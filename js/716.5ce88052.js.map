{"version":3,"file":"js/716.5ce88052.js","mappings":"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","sources":["webpack://neteasecloudmusic/./src/views/Search.vue","webpack://neteasecloudmusic/./src/components/SearchTop.vue","webpack://neteasecloudmusic/./src/components/SearchTop.vue?600b","webpack://neteasecloudmusic/./src/views/Search.vue?a55f"],"sourcesContent":["<template>\r\n    <div class=\"searchPage\">\r\n        <SearchTop placeholder=\"周杰伦\"/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport SearchTop from \"@/components/SearchTop.vue\"\r\n\r\nexport default {\r\n    components: {\r\n        SearchTop\r\n    }\r\n}\r\n</script>","<template>\r\n    <div class=\"search\">\r\n        <div class=\"searchTop\">\r\n            <div class=\"back\" @click=\"$router.back()\">\r\n                <i class=\"back iconfont icon-zuojiantou\"></i>\r\n            </div>\r\n            <div class=\"right\">\r\n                <input\r\n                    type=\"text\"\r\n                    @keydown.enter=\"saveKeyword\"\r\n                    :placeholder=\"placeholder\"\r\n                    v-model=\"searchKeyword\"\r\n                >\r\n            </div>\r\n        </div>\r\n        <div class=\"history\" v-show=\"!searchSongs.length!=0\">\r\n            <div class=\"historyLeft\">\r\n                历史\r\n            </div>\r\n            <div class=\"historyRight\">\r\n                <div @click=\"historySearch(item)\" class=\"keywordItem\" v-for=\"(item, i) in keywordList\" :key=\"i\">\r\n                    {{item}}\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"list\" >\r\n            <div class=\"playItem\" v-for=\"(item, i) in searchSongs\" :key=\"i\" @click=\"play(item, i)\">\r\n                <div class=\"left\">\r\n                    <div class=\"index\">{{i+1}}</div>\r\n                    <div class=\"content\">\r\n                        <span class=\"title\">{{item.name}}</span>\r\n                        <span class=\"author\">\r\n                            {{item.artists[0].name}}\r\n                            <span v-if=\"item.artists[1]\">\r\n                                {{item.artists[1].name}}\r\n                            </span>\r\n                            <span v-if=\"item.artists[2]\">\r\n                                {{item.artists[2].name}}\r\n                            </span>\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                <div class=\"right\">\r\n                    <i class=\"iconfont icon-caozuo-bofang\"></i>\r\n                    <i class=\"iconfont icon-youcecaidan\"></i>\r\n                </div>\r\n            </div>\r\n        </div> \r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from '@vue/reactivity'\r\nimport { onBeforeMount, watch } from '@vue/runtime-core'\r\nimport { searchMusic } from '@/api'\r\nimport { useStore } from 'vuex'\r\n\r\nexport default {\r\n    props:['placeholder'],\r\n    setup(){\r\n        const store = useStore()\r\n        let keywordList = ref([])\r\n        let searchKeyword = ref('')\r\n        onBeforeMount(() => {\r\n            keywordList.value = localStorage.keywordList?Array.from(JSON.parse(localStorage.keywordList)):[]\r\n        })\r\n\r\n        // 搜索歌曲\r\n        let searchSongs = ref([])\r\n        async function saveKeyword(){\r\n            keywordList.value.push(searchKeyword.value)\r\n            keywordList.value = Array.from(new Set(keywordList.value))\r\n            if(keywordList.value.length>10){\r\n                keywordList.value = keywordList.value.slice(keywordList.value.length-10)\r\n            }\r\n            localStorage.keywordList = JSON.stringify(keywordList.value)\r\n            let res =  await searchMusic(searchKeyword.value)\r\n            searchSongs.value = res.data.result.songs\r\n        }\r\n\r\n        // 点击历史记录搜索\r\n        function historySearch(keyword){\r\n            searchKeyword.value = keyword\r\n            saveKeyword()\r\n        }\r\n        watch(searchSongs,(newValue) => {\r\n            searchSongs.value = newValue\r\n        })\r\n\r\n        // 播放歌曲\r\n        function play(item, i){\r\n            item.al = item.album\r\n            item.al.picUrl = item.artists[0].img1v1Url\r\n            store.commit('pushPlaylist', item)\r\n            store.commit('setPlayIndex', store.state.playlist.length-1)\r\n        }\r\n        return{\r\n            keywordList,\r\n            saveKeyword,\r\n            searchKeyword,\r\n            searchSongs,\r\n            historySearch,\r\n            play\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.search{\r\n    width: 7.5rem;\r\n    padding: 0 0.2rem;\r\n    padding-bottom: 1.5rem;\r\n    .searchTop{\r\n        display: flex;\r\n        width: 100%;\r\n        height: 1.2rem;\r\n        align-items: center;\r\n        .iconfont{\r\n            font-size: 0.5rem;\r\n        }\r\n        .right{\r\n            padding: 0 0 0 0.2rem;\r\n            flex: 1;\r\n            input{\r\n                border: none;\r\n                outline: none;\r\n                border-bottom: 1px solid #666;\r\n                width: 100%;\r\n                font-size: 0.38rem;\r\n            }\r\n        }\r\n    }\r\n    .history{\r\n        display: flex;\r\n        .historyLeft{\r\n            width: 1.2rem;\r\n            height: 0.8rem;\r\n            font-weight: 900;\r\n            line-height: 0.8rem;\r\n        }\r\n        .historyRight{\r\n            color: #666;\r\n            display: flex;\r\n            flex-wrap: wrap;\r\n            flex: 1;\r\n            .keywordItem{\r\n                background-color: #eee;\r\n                height: 0.8rem;\r\n                padding: 0 0.2rem;\r\n                border-radius: 0.4rem;\r\n                line-height: 0.8rem;\r\n                margin: 0 0.1rem;\r\n            }\r\n        }\r\n    }\r\n    .list{\r\n        .playItem{\r\n            display: flex;\r\n            justify-content: space-between;\r\n            align-items: center;\r\n            .left{\r\n                display: flex;\r\n                align-items: center;\r\n                color: #666;\r\n                .index{\r\n                    width: 0.6rem;\r\n                }\r\n                .content{\r\n                    margin-left: 0.1rem;\r\n                    display: flex;\r\n                    flex-direction: column;\r\n                    width: 5rem;\r\n                    padding: .1rem 0;\r\n                    .title{\r\n                        color: #000;\r\n                    }\r\n                    .author{\r\n                        font-size: 0.2rem;\r\n                    }\r\n                }\r\n            }\r\n            .right{\r\n                display: flex;\r\n                width: 1rem;\r\n                justify-content: space-between;\r\n                .iconfont{\r\n                    font-size: .4rem;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>","import { render } from \"./SearchTop.vue?vue&type=template&id=0a4ad374&scoped=true\"\nimport script from \"./SearchTop.vue?vue&type=script&lang=js\"\nexport * from \"./SearchTop.vue?vue&type=script&lang=js\"\n\nimport \"./SearchTop.vue?vue&type=style&index=0&id=0a4ad374&lang=less&scoped=true\"\n\nimport exportComponent from \"D:\\\\respositories\\\\cloudMusic\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0a4ad374\"]])\n\nexport default __exports__","import { render } from \"./Search.vue?vue&type=template&id=0c2ef93a\"\nimport script from \"./Search.vue?vue&type=script&lang=js\"\nexport * from \"./Search.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\respositories\\\\cloudMusic\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_createVNode","_component_SearchTop","placeholder","_createElementVNode","_hoisted_3","onClick","_ctx","back","type","onKeydown","$setup","$props","$event","_hoisted_8","_Fragment","_renderList","item","i","key","_hoisted_10","length","_toDisplayString","name","artists","_hoisted_18","_hoisted_19","_hoisted_20","props","setup","store","useStore","keywordList","ref","searchKeyword","onBeforeMount","value","localStorage","Array","from","JSON","parse","searchSongs","async","saveKeyword","push","Set","slice","stringify","res","searchMusic","data","result","songs","historySearch","keyword","play","al","album","picUrl","img1v1Url","commit","state","playlist","watch","newValue","__exports__","components","SearchTop","render"],"sourceRoot":""}